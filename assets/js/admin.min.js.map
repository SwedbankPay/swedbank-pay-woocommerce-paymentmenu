{"version":3,"file":"admin.min.js","names":["jQuery","document","ready","$","ajax","url","SwedbankPay_Admin","ajax_url","data","action","nonce","order_id","success","response","alert","prop","val","on","e","preventDefault","this","self","type","beforeSend","html","text_wait","window","location","href"],"sources":["admin.js"],"sourcesContent":["jQuery(document).ready(function ($) {\n    $.ajax( {\n        url: SwedbankPay_Admin.ajax_url,\n        data: {\n            action: 'swedbank_pay_get_refund_mode',\n            nonce: SwedbankPay_Admin.nonce,\n            order_id: SwedbankPay_Admin.order_id\n        },\n        success: function ( response ) {\n            if ( ! response.success ) {\n                alert( response.data );\n                return false;\n            }\n\n            switch (response.data['mode']) {\n                case 'items':\n                    $('.refund_line_total.wc_input_price').prop('readonly', true);\n                    $('.refund_line_tax.wc_input_price').prop('readonly', true);\n                    $('#refund_amount').prop('readonly', true);\n\n                    break;\n                case 'amount':\n                    $('#refund_amount').prop('readonly', false);\n                    $('.refund_order_item_qty').prop('readonly', true).val(0);\n                    $('.refund_line_total.wc_input_price').prop('readonly', true);\n                    $('.refund_line_tax.wc_input_price').prop('readonly', true);\n                    break;\n            }\n        }\n    } );\n\n    $( document ).on( 'click', '#swedbank_pay_capture', function (e) {\n        e.preventDefault();\n\n        var nonce = $( this ).data( 'nonce' );\n        var order_id = $( this ).data( 'order-id' );\n        var self = $( this );\n        $.ajax( {\n            url: SwedbankPay_Admin.ajax_url,\n            type: 'POST',\n            data: {\n                action: 'swedbank_pay_capture',\n                nonce: nonce,\n                order_id: order_id\n            },\n            beforeSend: function () {\n                self.data( 'text', self.html() );\n                self.html( SwedbankPay_Admin.text_wait );\n                self.prop( 'disabled', true );\n            },\n            success: function ( response ) {\n                self.html( self.data('text') );\n                self.prop( 'disabled', false );\n                if ( !response.success ) {\n                    alert( response.data );\n                    return false;\n                }\n\n                window.location.href = location.href;\n            }\n        } );\n    } );\n\n    $( document ).on( 'click', '#swedbank_pay_cancel', function (e) {\n        e.preventDefault();\n\n        var nonce = $( this ).data( 'nonce' );\n        var order_id = $( this ).data( 'order-id' );\n        var self = $( this );\n        $.ajax( {\n            url: SwedbankPay_Admin.ajax_url,\n            type: 'POST',\n            data: {\n                action: 'swedbank_pay_cancel',\n                nonce: nonce,\n                order_id: order_id\n            },\n            beforeSend: function () {\n                self.data( 'text', self.html() );\n                self.html( SwedbankPay_Admin.text_wait );\n                self.prop( 'disabled', true );\n            },\n            success: function ( response ) {\n                self.html( self.data('text') );\n                self.prop( 'disabled', false );\n                if ( ! response.success ) {\n                    alert( response.data );\n                    return false;\n                }\n\n                window.location.href = location.href;\n            }\n        } );\n    } );\n\n    $( document ).on( 'click', '#swedbank_pay_refund', function (e) {\n        e.preventDefault();\n\n        var nonce = $( this ).data( 'nonce' );\n        var order_id = $( this ).data( 'order-id' );\n        var self = $( this );\n        $.ajax( {\n            url: SwedbankPay_Admin.ajax_url,\n            type: 'POST',\n            data: {\n                action: 'swedbank_pay_refund',\n                nonce: nonce,\n                order_id: order_id\n            },\n            beforeSend: function () {\n                self.data( 'text', self.html() );\n                self.html( SwedbankPay_Admin.text_wait );\n                self.prop( 'disabled', true );\n            },\n            success: function ( response ) {\n                self.html( self.data('text') );\n                self.prop( 'disabled', false );\n                if ( ! response.success ) {\n                    alert( response.data );\n                    return false;\n                }\n\n                window.location.href = location.href;\n            }\n        } );\n    } );\n});\n"],"mappings":"AAAAA,OAAOC,UAAUC,OAAM,SAAUC,GAC7BA,EAAEC,KAAM,CACJC,IAAKC,kBAAkBC,SACvBC,KAAM,CACFC,OAAQ,+BACRC,MAAOJ,kBAAkBI,MACzBC,SAAUL,kBAAkBK,UAEhCC,QAAS,SAAWC,GAChB,IAAOA,EAASD,QAEZ,OADAE,MAAOD,EAASL,OACT,EAGX,OAAQK,EAASL,KAAW,MACxB,IAAK,QACDL,EAAE,qCAAqCY,KAAK,YAAY,GACxDZ,EAAE,mCAAmCY,KAAK,YAAY,GACtDZ,EAAE,kBAAkBY,KAAK,YAAY,GAErC,MACJ,IAAK,SACDZ,EAAE,kBAAkBY,KAAK,YAAY,GACrCZ,EAAE,0BAA0BY,KAAK,YAAY,GAAMC,IAAI,GACvDb,EAAE,qCAAqCY,KAAK,YAAY,GACxDZ,EAAE,mCAAmCY,KAAK,YAAY,GAGlE,IAGJZ,EAAGF,UAAWgB,GAAI,QAAS,yBAAyB,SAAUC,GAC1DA,EAAEC,iBAEF,IAAIT,EAAQP,EAAGiB,MAAOZ,KAAM,SACxBG,EAAWR,EAAGiB,MAAOZ,KAAM,YAC3Ba,EAAOlB,EAAGiB,MACdjB,EAAEC,KAAM,CACJC,IAAKC,kBAAkBC,SACvBe,KAAM,OACNd,KAAM,CACFC,OAAQ,uBACRC,MAAOA,EACPC,SAAUA,GAEdY,WAAY,WACRF,EAAKb,KAAM,OAAQa,EAAKG,QACxBH,EAAKG,KAAMlB,kBAAkBmB,WAC7BJ,EAAKN,KAAM,YAAY,EAC3B,EACAH,QAAS,SAAWC,GAGhB,GAFAQ,EAAKG,KAAMH,EAAKb,KAAK,SACrBa,EAAKN,KAAM,YAAY,IACjBF,EAASD,QAEX,OADAE,MAAOD,EAASL,OACT,EAGXkB,OAAOC,SAASC,KAAOD,SAASC,IACpC,GAER,IAEAzB,EAAGF,UAAWgB,GAAI,QAAS,wBAAwB,SAAUC,GACzDA,EAAEC,iBAEF,IAAIT,EAAQP,EAAGiB,MAAOZ,KAAM,SACxBG,EAAWR,EAAGiB,MAAOZ,KAAM,YAC3Ba,EAAOlB,EAAGiB,MACdjB,EAAEC,KAAM,CACJC,IAAKC,kBAAkBC,SACvBe,KAAM,OACNd,KAAM,CACFC,OAAQ,sBACRC,MAAOA,EACPC,SAAUA,GAEdY,WAAY,WACRF,EAAKb,KAAM,OAAQa,EAAKG,QACxBH,EAAKG,KAAMlB,kBAAkBmB,WAC7BJ,EAAKN,KAAM,YAAY,EAC3B,EACAH,QAAS,SAAWC,GAGhB,GAFAQ,EAAKG,KAAMH,EAAKb,KAAK,SACrBa,EAAKN,KAAM,YAAY,IAChBF,EAASD,QAEZ,OADAE,MAAOD,EAASL,OACT,EAGXkB,OAAOC,SAASC,KAAOD,SAASC,IACpC,GAER,IAEAzB,EAAGF,UAAWgB,GAAI,QAAS,wBAAwB,SAAUC,GACzDA,EAAEC,iBAEF,IAAIT,EAAQP,EAAGiB,MAAOZ,KAAM,SACxBG,EAAWR,EAAGiB,MAAOZ,KAAM,YAC3Ba,EAAOlB,EAAGiB,MACdjB,EAAEC,KAAM,CACJC,IAAKC,kBAAkBC,SACvBe,KAAM,OACNd,KAAM,CACFC,OAAQ,sBACRC,MAAOA,EACPC,SAAUA,GAEdY,WAAY,WACRF,EAAKb,KAAM,OAAQa,EAAKG,QACxBH,EAAKG,KAAMlB,kBAAkBmB,WAC7BJ,EAAKN,KAAM,YAAY,EAC3B,EACAH,QAAS,SAAWC,GAGhB,GAFAQ,EAAKG,KAAMH,EAAKb,KAAK,SACrBa,EAAKN,KAAM,YAAY,IAChBF,EAASD,QAEZ,OADAE,MAAOD,EAASL,OACT,EAGXkB,OAAOC,SAASC,KAAOD,SAASC,IACpC,GAER,GACJ"}